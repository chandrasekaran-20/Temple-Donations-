
<!DOCTYPE html>
<html lang="ta">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>родро┐ро░рпБроХрпНроХрпЛро╡ро┐ро▓рпН роХро╛рогро┐роХрпНроХрпИ</title>
<link rel="stylesheet" href="style.css">
</head>

<body>

<div class="container">
<h1>ЁЯЫХ роХро╛рогро┐роХрпНроХрпИ ро╡ро┤роЩрпНроХрпБроЩрпНроХро│рпН</h1>

<div class="box">

<input id="amount" type="number" placeholder="родрпКроХрпИ (тВ╣) *" required>
<input id="name" type="text" placeholder="рокрпЖропро░рпН *" required>
<input id="mobile" type="tel" placeholder="роорпКрокрпИро▓рпН роОрогрпН *" required>
<input id="place" type="text" placeholder="роироХро░роорпН / роКро░рпН *" required>

<button onclick="startPayment()" class="donate-btn">UPI роорпВро▓роорпН роЪрпЖро▓рпБродрпНродро╡рпБроорпН</button>

<div id="uploadSection" style="display:none;margin-top:15px;">
<p>рокрогроорпН роЪрпЖро▓рпБродрпНродро┐роп Screenshot рокродро┐ро╡рпЗро▒рпНро▒роорпН роЪрпЖропрпНропро╡рпБроорпН:</p>
<input type="file" id="screenshot" accept="image/*">
<button onclick="uploadData()">Submit</button>
</div>

</div>
</div>

<script>

let donationData = {};

function generateToken(){
 return "SIVA-" + Date.now();
}

function startPayment(){

let amount = document.getElementById("amount").value;
let name = document.getElementById("name").value;
let mobile = document.getElementById("mobile").value;
let place = document.getElementById("place").value;

if(!amount || !name || !mobile || !place){
 alert("роЕройрпИродрпНродрпБ роХроЯрпНроЯро╛роп родроХро╡ро▓рпНроХро│рпБроорпН роиро┐ро░рокрпНрокро╡рпБроорпН");
 return;
}

let token = generateToken();
let timestamp = new Date().toLocaleString();

donationData = { token, timestamp, amount, name, mobile, place };

let upi = `upi://pay?pa=chandrasekarandnti@okaxis&pn=Temple&am=${amount}&cu=INR&tn=${token}`;

window.location.href = upi;

setTimeout(()=>{
 if(confirm("рокрогроорпН роЪрпЖро▓рпБродрпНродро┐ропро┐ро░рпБроирпНродро╛ро▓рпН OK роЕро┤рпБродрпНродро╡рпБроорпН")){
   document.getElementById("uploadSection").style.display="block";
 }
},8000);

}

function uploadData(){

let file = document.getElementById("screenshot").files[0];
if(!file){
 alert("Screenshot родрпЗро░рпНро╡рпБ роЪрпЖропрпНропро╡рпБроорпН");
 return;
}

let reader = new FileReader();
reader.onload = function(){

donationData.screenshot = reader.result;

fetch("PASTE_GOOGLE_SCRIPT_URL_HERE",{
 method:"POST",
 body:JSON.stringify(donationData)
})
.then(res=>res.json())
.then(()=>{
 alert("рокродро┐ро╡рпБ ро╡рпЖро▒рпНро▒ро┐роХро░рооро╛роХ роЪрпЗрооро┐роХрпНроХрокрпНрокроЯрпНроЯродрпБ");
 window.location.reload();
});

};

reader.readAsDataURL(file);

}

</script>

</body>
</html>
